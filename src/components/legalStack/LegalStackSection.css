.legal-stack-section {
  position: relative;
  overflow: hidden;
  padding: 8rem 2rem;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Container bento avec effet scroll */
.bento-container {
  width: 95%;
  max-width: 1600px;
  position: relative;
  transform: translateY(50px);
  opacity: 0;
  transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.bento-container.visible {
  transform: translateY(0);
  opacity: 1;
}

/* Effet de survol pour le container - désactivé pour permettre les styles inline */

/* Effets hover pour les rectangles dans le bento */
.legal-stack-section div[style*="background: rgba(255, 255, 255, 0.12)"] {
  cursor: pointer;
}

.legal-stack-section div[style*="background: rgba(255, 255, 255, 0.12)"]:hover {
  transform: translateY(-8px) scale(1.02) !important;
  border-color: rgba(255, 255, 255, 0.35) !important;
  background: rgba(255, 255, 255, 0.18) !important;
  box-shadow: 0 12px 40px rgba(255, 255, 255, 0.3) !important;
  transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Effet hover pour les sous-éléments */
.legal-stack-section div[style*="background: rgba(255, 255, 255, 0.08)"]:hover {
  transform: translateY(-4px) scale(1.01) !important;
  border-color: rgba(255, 255, 255, 0.25) !important;
  background: rgba(255, 255, 255, 0.12) !important;
  box-shadow: 0 8px 24px rgba(255, 255, 255, 0.2) !important;
  transition: all 0.3s ease !important;
}

/* Effet hover pour les icônes circulaires */
.legal-stack-section div[style*="border-radius: 50%"]:hover {
  transform: scale(1.1) !important;
  background: rgba(255, 255, 255, 0.25) !important;
  border-color: rgba(255, 255, 255, 0.35) !important;
  transition: all 0.3s ease !important;
}

/* Correction globale RENFORCÉE pour les couleurs bento - désactivé pour permettre les styles inline */

/* Forcer tous les backgrounds transparents dans le bento - désactivé pour permettre les styles inline */

/* États hover - couleurs bento */
.bento-container .benefit-card:hover,
.bento-container .benefit-card:hover *,
.bento-container .benefit-card:hover *::before,
.bento-container .benefit-card:hover *::after,
.bento-container .benefit-card:hover div,
.bento-container .benefit-card:hover span,
.bento-container .benefit-card:hover h3,
.bento-container .benefit-card:hover p,
.bento-container .benefit-card:hover svg,
.bento-container .benefit-card:hover button {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  box-shadow: none !important;
  color: #ffffff !important;
}

/* États focus - couleurs bento */
.bento-container .benefit-card:focus,
.bento-container .benefit-card:focus *,
.bento-container .benefit-card:focus *::before,
.bento-container .benefit-card:focus *::after,
.bento-container .benefit-card *:focus,
.bento-container .benefit-card *:focus *,
.bento-container .benefit-card *:focus::before,
.bento-container .benefit-card *:focus::after {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  outline: none !important;
  box-shadow: none !important;
  color: #ffffff !important;
}

/* États active - couleurs bento */
.bento-container .benefit-card:active,
.bento-container .benefit-card:active *,
.bento-container .benefit-card:active *::before,
.bento-container .benefit-card:active *::after,
.bento-container .benefit-card *:active,
.bento-container .benefit-card *:active * {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  box-shadow: none !important;
  color: #ffffff !important;
}

/* Style spéciaux pour les composants dans le bento - désactivé pour permettre les styles inline */

/* Correction spéciale pour les cercles d'icônes dans le bento */
.bento-container div[style*="border-radius: 50%"],
.bento-container div[style*="borderRadius"] {
  background: rgba(255, 255, 255, 0.12) !important;
  background-color: rgba(255, 255, 255, 0.12) !important;
  border: 2px solid rgba(255, 255, 255, 0.2) !important;
}

/* Sélection dans le bento */
.bento-container ::selection {
  background: rgba(255, 255, 255, 0.2) !important;
  color: #ffffff !important;
}

.bento-container ::-moz-selection {
  background: rgba(255, 255, 255, 0.2) !important;
  color: #ffffff !important;
}

/* STYLES ORIGINAUX PRÉSERVÉS POUR LA COMPATIBILITÉ */
/* Correction globale RENFORCÉE pour éviter tous les rectangles noirs/colorés */
.benefit-card,
.benefit-card *,
.benefit-card *::before,
.benefit-card *::after,
.benefit-card div,
.benefit-card span,
.benefit-card h3,
.benefit-card p,
.benefit-card svg,
.benefit-card button {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  box-shadow: none !important;
}

/* États hover - FORCER la transparence */
.benefit-card:hover,
.benefit-card:hover *,
.benefit-card:hover *::before,
.benefit-card:hover *::after,
.benefit-card:hover div,
.benefit-card:hover span,
.benefit-card:hover h3,
.benefit-card:hover p,
.benefit-card:hover svg,
.benefit-card:hover button {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  box-shadow: none !important;
}

/* États focus - FORCER la transparence */
.benefit-card:focus,
.benefit-card:focus *,
.benefit-card:focus *::before,
.benefit-card:focus *::after,
.benefit-card *:focus,
.benefit-card *:focus *,
.benefit-card *:focus::before,
.benefit-card *:focus::after {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* États active - FORCER la transparence */
.benefit-card:active,
.benefit-card:active *,
.benefit-card:active *::before,
.benefit-card:active *::after,
.benefit-card *:active,
.benefit-card *:active * {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  box-shadow: none !important;
}

/* Forcer TOUS les divs à être transparents - désactivé */

/* Correction spéciale pour les composants stack - désactivé */

/* Empêcher TOUTE sélection de créer des backgrounds */
.benefit-card ::selection,
.legal-stack-section ::selection {
  background: rgba(252, 233, 107, 0.3) !important;
  color: #fafafa !important;
}

.benefit-card ::-moz-selection,
.legal-stack-section ::-moz-selection {
  background: rgba(252, 233, 107, 0.3) !important;
  color: #fafafa !important;
}

/* Style pour les cercles d'icônes - SEUL élément autorisé à avoir un background */
.benefit-card div[style*="border-radius: 50%"],
.benefit-card div[style*="borderRadius"] {
  background: rgba(255, 255, 255, 0.08) !important;
  background-color: rgba(255, 255, 255, 0.08) !important;
  border: 2px solid rgba(255, 255, 255, 0.15) !important;
}

/* CORRECTION SPÉCIALE pour Material-UI et autres frameworks */
.benefit-card .MuiPaper-root,
.benefit-card .MuiCard-root,
.benefit-card .MuiBox-root,
.benefit-card [class*="makeStyles"],
.benefit-card [class*="jss"],
.legal-stack-section .MuiPaper-root,
.legal-stack-section .MuiCard-root,
.legal-stack-section .MuiBox-root,
.legal-stack-section [class*="makeStyles"],
.legal-stack-section [class*="jss"] {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  box-shadow: none !important;
}

/* Correction pour les pseudo-éléments qui peuvent créer des overlays */
.benefit-card *::before,
.benefit-card *::after,
.legal-stack-section *::before,
.legal-stack-section *::after {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  content: none !important;
}

/* Correction pour les éléments inline avec styles - désactivé */

/* Correction pour les gradients et linear-gradient */
.benefit-card [style*="linear-gradient"],
.benefit-card [style*="radial-gradient"],
.legal-stack-section [style*="linear-gradient"],
.legal-stack-section [style*="radial-gradient"] {
  background: transparent !important;
  background-image: none !important;
}

/* Responsive adjustments pour le bento */
@media (max-width: 768px) {
  .legal-stack-section {
    padding: clamp(3rem, 6vh, 4rem) clamp(0.5rem, 2vw, 1rem);
  }

  .bento-container {
    width: 98%;
    border-radius: 2rem;
    padding: clamp(2rem, 4vh, 2.5rem) clamp(1rem, 3vw, 1.5rem);
  }
}

@media (max-width: 480px) {
  .legal-stack-section {
    padding: clamp(2rem, 4vh, 3rem) 1rem;
  }

  .bento-container {
    width: 100%;
    border-radius: 1.5rem;
    border-width: 3px;
    padding: 1.5rem 1rem;
  }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  .legal-stack-section *,
  .legal-stack-section *::before,
  .legal-stack-section *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .bento-container {
    transition: none !important;
  }
}

/* Performance optimizations */
@media (prefers-reduced-motion: no-preference) {
  .legal-stack-section {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }
}

/* CORRECTION SPÉCIFIQUE POUR LES ICÔNES SVG */
.rag-icon-outline {
  fill: none !important;
  stroke: currentColor !important;
  stroke-width: 1.5 !important;
}

/* CORRECTION GLOBALE POUR TOUS LES SVG DANS LA SECTION RAG */
.legal-stack-section svg {
  fill: none !important;
  stroke: currentColor !important;
}

/* RÈGLES POUR EMPÊCHER LE DÉCOUPAGE DES TERMES TECHNIQUES RAG */
.rag-technical-term {
  white-space: nowrap !important;
  overflow: hidden;
  text-overflow: ellipsis;
  word-wrap: normal !important;
  hyphens: none !important;
  word-break: keep-all !important;
}

/* Styles spécifiques pour chaque terme */
.rag-mixture-term {
  min-width: 85px !important;
}

.rag-reranker-term {
  min-width: 70px !important;
}

.rag-grounded-term {
  min-width: 90px !important;
}

/* Styles spécifiques pour le conteneur RAG Platform - FORCE ABSOLUE */
.legal-stack-section .rag-platform-container {
  background: #faf2d7 !important;
  background-color: #faf2d7 !important;
  border: 4px solid #2f2f2e !important;
  border-radius: 24px !important;
  box-shadow: 0 20px 60px rgba(47, 47, 46, 0.3) !important;
  transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  cursor: pointer !important;
}

.legal-stack-section .rag-platform-container:hover {
  transform: translateY(-8px) scale(1.02) !important;
  box-shadow: 0 30px 80px rgba(47, 47, 46, 0.4) !important;
}

/* Reset complet pour permettre les styles inline dans le conteneur RAG */
.legal-stack-section .rag-platform-container,
.legal-stack-section .rag-platform-container *,
.legal-stack-section .rag-platform-container *::before,
.legal-stack-section .rag-platform-container *::after {
  background: revert !important;
  background-color: revert !important;
  border: revert !important;
  color: #2f2f2e !important;
  stroke: #2f2f2e !important;
  /* Pas de fill forcé - laisse les SVG gérer leur propre fill */
}

/* Forcer le style du conteneur principal */
.legal-stack-section .rag-platform-container {
  background: #faf2d7 !important;
  background-color: #faf2d7 !important;
}

/* Forcer les couleurs de texte dans le rectangle clair */
.legal-stack-section .rag-platform-container h2,
.legal-stack-section .rag-platform-container h3,
.legal-stack-section .rag-platform-container p,
.legal-stack-section .rag-platform-container span,
.legal-stack-section .rag-platform-container div {
  color: #2f2f2e !important;
}

/* Forcer les couleurs des SVG dans le rectangle clair */
.legal-stack-section .rag-platform-container svg {
  color: #2f2f2e !important;
  stroke: #2f2f2e !important;
  /* Pas de fill forcé - laisse les SVG gérer leur propre fill */
}

/* NOUVELLE SECTION RAG avec transitions identiques à deployment */
.rag-section-enhanced {
  position: relative;
  overflow: hidden;
  padding: 8rem 2rem;
  min-height: 100vh;
  width: 100%;
  background: var(--rag-bg-color, transparent);
  transition: background-color 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  display: flex;
  justify-content: center;
  align-items: center;
}

.rag-content-container {
  background: var(--rag-container-bg, #faf2d7);
  border-radius: 3rem;
  border: var(--rag-container-border, 4px solid #2f2f2e);
  box-shadow: var(--rag-container-shadow, 0 20px 60px rgba(47, 47, 46, 0.3));
  width: 95%;
  max-width: 1600px;
  position: relative;
  padding: clamp(3rem, 5vh, 4rem) clamp(2rem, 4vw, 3rem);
  transform: translateY(50px);
  opacity: 0;
  transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.rag-content-container.visible {
  opacity: 1;
  transform: translateY(0);
}

.rag-content-container:hover {
  transform: translateY(-5px);
  box-shadow: var(--rag-container-shadow-hover, 0 30px 80px rgba(47, 47, 46, 0.4));
}

/* Cartes RAG identiques aux cartes deployment */
.rag-card-enhanced {
  background: var(--rag-card-bg, rgba(47, 47, 46, 0.08));
  border: 1px solid var(--rag-card-border, rgba(47, 47, 46, 0.15));
  backdrop-filter: blur(20px);
  border-radius: 1rem;
  padding: clamp(1.5rem, 2.5vw, 2rem);
  box-shadow: var(--rag-card-shadow, 0 8px 32px rgba(47, 47, 46, 0.2));
  transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  opacity: 0;
  transform: translateY(30px);
}

.rag-card-enhanced.visible {
  opacity: 1;
  transform: translateY(0);
}

.rag-card-enhanced:hover {
  transform: translateY(-8px) scale(1.02);
  border-color: var(--rag-card-border-hover, rgba(47, 47, 46, 0.25));
  background: var(--rag-card-bg-hover, rgba(47, 47, 46, 0.12));
  box-shadow: var(--rag-card-shadow-hover, 0 12px 40px rgba(47, 47, 46, 0.3));
}

/* Variables CSS pour transitions - IDENTIQUES à deployment */
.rag-bg-enhanced-start {
  --rag-bg-color: #2f2f2e;
  --rag-container-bg: rgba(255, 255, 255, 0.08);
  --rag-container-border: 4px solid rgba(255, 255, 255, 0.15);
  --rag-container-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  --rag-container-shadow-hover: 0 30px 80px rgba(0, 0, 0, 0.4);
  --rag-card-bg: rgba(255, 255, 255, 0.08);
  --rag-card-border: rgba(255, 255, 255, 0.15);
  --rag-card-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  --rag-card-bg-hover: rgba(255, 255, 255, 0.12);
  --rag-card-border-hover: rgba(255, 255, 255, 0.25);
  --rag-card-shadow-hover: 0 12px 40px rgba(0, 0, 0, 0.4);
}

.rag-bg-enhanced-middle {
  --rag-bg-color: #2f2f2e;
  --rag-container-bg: #faf2d7;
  --rag-container-border: 4px solid #2f2f2e;
  --rag-container-shadow: 0 20px 60px rgba(47, 47, 46, 0.3);
  --rag-container-shadow-hover: 0 30px 80px rgba(47, 47, 46, 0.4);
  --rag-card-bg: rgba(47, 47, 46, 0.12);
  --rag-card-border: rgba(47, 47, 46, 0.2);
  --rag-card-shadow: 0 10px 36px rgba(47, 47, 46, 0.15);
  --rag-card-bg-hover: rgba(47, 47, 46, 0.18);
  --rag-card-border-hover: rgba(47, 47, 46, 0.3);
  --rag-card-shadow-hover: 0 15px 45px rgba(47, 47, 46, 0.25);
}

.rag-bg-enhanced-end {
  --rag-bg-color: transparent;
  --rag-container-bg: #faf2d7;
  --rag-container-border: 4px solid #2f2f2e;
  --rag-container-shadow: 0 20px 60px rgba(47, 47, 46, 0.3);
  --rag-container-shadow-hover: 0 30px 80px rgba(47, 47, 46, 0.4);
  --rag-card-bg: rgba(47, 47, 46, 0.08);
  --rag-card-border: rgba(47, 47, 46, 0.15);
  --rag-card-shadow: 0 8px 32px rgba(47, 47, 46, 0.2);
  --rag-card-bg-hover: rgba(47, 47, 46, 0.12);
  --rag-card-border-hover: rgba(47, 47, 46, 0.25);
  --rag-card-shadow-hover: 0 12px 40px rgba(47, 47, 46, 0.3);
}

/* Forcer les couleurs de texte dans toutes les transitions */
.rag-content-container,
.rag-content-container *,
.rag-content-container h2,
.rag-content-container h3,
.rag-content-container p,
.rag-content-container svg {
  color: var(--rag-text-color, #2f2f2e) !important;
  stroke: var(--rag-text-color, #2f2f2e) !important;
  /* Pas de fill forcé - laisse les SVG gérer leur propre fill */
}

/* Grille de cartes RAG */
.rag-cards-grid {
  --rag-card-bg: rgba(47, 47, 46, 0.08);
  --rag-card-border: rgba(47, 47, 46, 0.15);
  --rag-card-shadow: 0 8px 32px rgba(47, 47, 46, 0.2);
  --rag-card-bg-hover: rgba(47, 47, 46, 0.12);
  --rag-card-border-hover: rgba(47, 47, 46, 0.25);
  --rag-card-shadow-hover: 0 12px 40px rgba(47, 47, 46, 0.3);
}

@media (max-width: 1200px) {
  .rag-cards-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .rag-cards-grid {
    grid-template-columns: 1fr;
  }
  
  .rag-content-container {
    width: 98%;
    padding: clamp(2rem, 4vh, 3rem) clamp(1rem, 3vw, 2rem);
    border-radius: 2rem;
  }
}

@media (max-width: 480px) {
  .rag-content-container {
    border-radius: 1.5rem;
    border-width: 3px;
  }
}
